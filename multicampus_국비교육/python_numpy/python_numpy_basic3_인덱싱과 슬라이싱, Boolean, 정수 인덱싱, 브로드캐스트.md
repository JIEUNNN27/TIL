[TOC]

## 5. Numpy 인덱싱

- [행, 열]
- 인덱싱을 사용할 때마다 차원이 없어진다.

```python
a=np.arange(12).reshape((3,4))
a
--------------------------------
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
```

```python
a[0][0]
--------------------------------
0
```

```python
a[[0,2],]
--------------------------------
array([[ 0,  1,  2,  3],
       [ 8,  9, 10, 11]])
```

```python
#이렇게 하면 차원이 바뀐다
iRow = a[0]
iRow
--------------------------------
array([0, 1, 2, 3])
```

\* 참고 (슬라이싱을 사용하면 차원이 바뀌지 않는다)

```python
slicedCol = a[:, 0:1]
slicedCol
--------------------------------
array([[0],
       [4],
       [8]])
```





## 6. Numpy 슬라이싱

- [행에서 이만큼, 열에서 이만큼] 잘라내기

```python
a=np.arange(12).reshape((3,4))
a
--------------------------------
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
```

```python
#위의 코드에서
a[0:2, 0:4]
--------------------------------
array([[0, 1, 2, 3],
       [4, 5, 6, 7]])
```

```python
a[:2, :]
--------------------------------
array([[0, 1, 2, 3],
       [4, 5, 6, 7]])
```

```python
#이렇게 열을 생략해서 슬라이싱 해도 됨
a[:2]
--------------------------------
array([[0, 1, 2, 3],
       [4, 5, 6, 7]])
```





## 7. Numpy Boolean

- True/False를 이용해 조건식에 해당하는 부분만 빼온다

```python
a=np.arange(1,7). reshape(3,2)
a
--------------------------------
array([[1, 2],
       [3, 4],
       [5, 6]])
```

```python
#위의 array로부터
bool_idx = (a>2)
bool_idx
--------------------------------
array([[False, False],
       [ True,  True],
       [ True,  True]])
```

```python
a[bool_idx]
---------------------------------
array([3, 4, 5, 6])
```





 ## 8. Numpy 정수 인덱싱

```python
a=np.arange(1,7). reshape(3,2)
a
--------------------------------
array([[1, 2],
       [3, 4],
       [5, 6]])
```

```python
#위의 array로부터
a[[0, 1, 2], [0, 1, 0]]
--------------------------------
array([1, 4, 5])
```

```python
#위의 코드는 다음과 같은 의미이다.
np.array([a[0,0], a[1,1], a[2,0]])
----------------------------------
array([1, 4, 5])
```

```python
a[[0,0],[1,1]]
-------------------------
array([2, 2])
```

```python
np.array([a[0,1],a[0,1]])
-------------------------
array([2, 2])
```





## 9. Numpy 브로드캐스트

- 브로드캐스트 : array의 shape이 맞지 않는 경우 자동으로 shape을 맞춰서 연산이 되도록 하는 기능

```python
v=np.array([1,2,3])
w=np.array([4,5])
x=np.array([[1,2,3],[4,5,6]])


x+v
-------------------------------
array([[2, 4, 6],
       [5, 7, 9]])


x+w
-------------------------------
ValueError: operands could not be broadcast together with shapes (2,3) (2,) 

    
#위와 같이 브로드캐스트가 되지 않는 경우에는 Transpose를 해줘야 한다
x.T+w
-------------------------------
array([[ 5,  9],
       [ 6, 10],
       [ 7, 11]])


(x.T+w).T
-------------------------------
array([[ 5,  6,  7],
       [ 9, 10, 11]])


x + np.reshape(w,(1, 2)).T
-------------------------------
array([[ 5,  6,  7],
       [ 9, 10, 11]])
```

